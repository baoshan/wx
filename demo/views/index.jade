doctype html
html
  head
    title WeiXin à¹ å¾®ä¿¡åº”ç”¨æ¡†æ¶
    meta(http-equiv="Content-Type", content="text/html; charset=ISO-8859-8")
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    
    // wx ico
    link(href='https://res.wx.qq.com/mpres/htmledition/images/favicon1ddd38.ico',rel='Shortcut Icon')

    // Library css
    link(rel='stylesheet', href='//cdn.weixinjs.org/vendor/prism/0.0.1/prism.css')
    
    // bootstrap
    link(rel='stylesheet',href='//cdn.weixinjs.org/vendor/bootstrap/3.1.1/css/bootstrap.min.css')
    
    // app css
    link(rel='stylesheet', href='/css/app.css')

    // ç™¾åº¦ç»Ÿè®¡
    script
      | var _hmt = _hmt || [];
      | (function() {
      |   var hm = document.createElement("script");
      |   hm.src = "//hm.baidu.com/hm.js?0f7847e605b04c5c85109c56fa582ce3";
      |   var s = document.getElementsByTagName("script")[0]; 
      |   s.parentNode.insertBefore(hm, s);
      | })();
    

  body
    div#div_affix.middle
      ul.nav.bs-sidenav
        li
          a(data-scroll, href='#div_home') é¦–é¡µ
        li
          a(data-scroll, href='#div_install') å®‰è£…
        li
          a(data-scroll, href='#div_message', class='sum_icon') æ¥æ”¶æ¶ˆæ¯ +
          ul.nav
            li
              a(data-scroll, href='#div_message') æ–‡æœ¬æ¶ˆæ¯ â—†
            li
              a(data-scroll, href='#div_other_message') å…¶ä»–æ¶ˆæ¯ â—†
        li
          a(data-scroll, href='#div_send_message') å‘é€æ¶ˆæ¯
        li
          a(data-scroll, href='#div_click_button', class='sum_icon') æŒ‰é’® +
          ul.nav
            li
              a(data-scroll, href='#div_click_button') ç‚¹å‡»æŒ‰é’® â—†
            li
              a(data-scroll, href='#div_edit_button') ç¼–è¾‘æŒ‰é’® â—†
        li
          a(data-scroll, href='#div_login', class='sum_icon') äºŒç»´ç  +
          ul.nav
            li
              a(data-scroll, href='#div_login') æ‰«æäºŒç»´ç ç™»å½• â—†
            li
              a(data-scroll, href='#div_fruit') ä¸´æ—¶äºŒç»´ç  â—†
            li
              a(data-scroll, href='#div_ad') æ°¸ä¹…äºŒç»´ç  â—†
        li
          a(data-scroll, href='#div_subscribe') å…³æ³¨ä¸å–æ¶ˆå…³æ³¨
        li
          a(data-scroll, href='#div_subscribe_list') è·å–å…³æ³¨è€…åˆ—è¡¨
        li
          a(data-scroll, href='#div_fsm') æœ‰é™çŠ¶æ€æœº

    // é¦–é¡µ 
    div#div_home.page.scrolled_to
      div.header
        div.try
        img#qrcode_home(continuous='', src='http://weixinjs.org/wx/qrcode/home?rand=#{~~(1000 * Math.random())}')
        div
      div.middle
        div.container
          div.row.gutter 
            div.col-md-12
              h1.home_title WeiXin
              p  (minimalist) WeChat Middleware for Express.js
              h1.home_title_2 å¾®ä¿¡åº”ç”¨æ¡†æ¶
          div.row
            p.col-md-3.
              <br/><br/>
              <abbr>wx</abbr>æ˜¯æç®€è®¾è®¡çš„å¾®ä¿¡ï¼ˆå…¬å…±å¹³å°ï¼‰åº”ç”¨å‚è€ƒçº§æ¡†æ¶ï¼Œ<span class='note'>è€Œå¹¶éå¾®ä¿¡æ¥å£åœ¨<abbr>node.js</abbr>ä¸‹çš„å¹‚ç­‰æ˜ å°„</span>ã€‚
            p.col-md-3.
              <b>æ–¹æ³•</b><br/><br/>
              <abbr>wx</abbr>é¢å‘å¾®ä¿¡åº”ç”¨çš„æ™®é€‚éœ€æ±‚ï¼Œä¸ºå¼€å‘è€…è®¾è®¡è‡ªç„¶çš„<a class='tp' data-title='DX = Developer Experience'>ç ”å‘ä½“éªŒ</a>ã€‚<br/>
              å¤šæ•°åœºæ™¯ä¸­ï¼Œ<abbr>wx</abbr>é»˜é»˜åœ°åè°ƒç€æ•°ä¸ªå¾®ä¿¡æ¥å£ï¼Œå…è®¸å¼€å‘è€…æœ´ç´ ã€ç›´è§‚åœ°å®šä¹‰å¾®ä¿¡åº”ç”¨çš„ç”¨æˆ·ä½“éªŒã€‚
            p.col-md-3.
              <b>ç›®çš„</b><br/><br/>
              <abbr>wx</abbr>é¼“åŠ±å¼€å‘è€…ä»¥ç»ˆç«¯ç”¨æˆ·æ‰€ç†è§£çš„<a href='http://en.wikipedia.org/wiki/Literate_programming'>æ–‡å­¦åŒ–ç¼–ç¨‹</a>é£æ ¼ï¼Œ<a class='tp' data-title='Top-Down Design'>è‡ªé¡¶å‘ä¸‹</a>å™è¿°äº§å“è¡Œä¸ºï¼ˆè¢«éæå®¢ç§°ä¸ºç¼–ç ğŸ˜¸ï¼‰ï¼›å¼€å¿ƒåœ°å¿½ç•¥ä¸ç”¨æˆ·ä½“éªŒæ— å…³çš„éƒ¨åˆ†æŠ€æœ¯ç»†èŠ‚ğŸ»ã€‚
      div.bottom
        div.container
          div.row
            ul#ul_home_footer.col-md-6
              li.github
                a.a_github(href='https://github.com/baoshan/wx', target='blank')
              li
                iframe(src='http://ghbtns.com/github-btn.html?user=baoshan&repo=wx&type=watch&count=true', allowtransparency='true', frameborder='0', scrolling='0', width='95', height='20')
              li
                iframe(src='http://ghbtns.com/github-btn.html?user=baoshan&repo=wx&type=fork&count=true', allowtransparency='true', frameborder='0', scrolling='0', width='95', height='20')


    // å®‰è£… 
    div#div_install.page
      div.middle
        div.container
          div.row
            div.col-md-4
              h1.install_title.gutter å®‰è£…
              ul.install_step
                li
                  pre.language-
                    code.language- npm install wx
                li
                  ol
                    li â˜ ç™»å½•<a href='http://mp.weixin.qq.com/'>å¾®ä¿¡å…¬ä¼—å¹³å°</a>
                    li â˜ é«˜çº§åŠŸèƒ½
                    li â˜ å¼€å‘æ¨¡å¼ï¼Œè·å–ğŸ”‘
                  br
                  p.note é…ç½®æœåŠ¡å™¨æ—¶ä»…<code>token</code>å¿…é¡»ã€‚
                li
                  pre.language-coffeescript
                    code
                      :escape
                        app = express()
                        wx  = new require 'wx'
                          token            : 'xxx-xx-xx'
                          app_id           : 'xx-xxx'
                          app_secret       : 'xxxxxxxxxxxx'
                          encoding_aes_key : 'xxxxxxxxxxxx'
                  pre.language-coffeescript#code_redis_options
                    code
                      :escape
                        # redis_options
                          redis_options :
                            host     : 'redis.example.com'
                            port     : '6379'
                            options  : auth_pass: 'password'
                  pre.language-coffeescript
                    code
                      :escape
                        app.use '/wx', wx
                li å¯åŠ¨åº”ç”¨ç¨‹åºåï¼Œä¿®æ”¹å¾®ä¿¡å¼€å‘æ¨¡å¼ä¸­æœåŠ¡å™¨é…ç½®ä¸ºï¼š<code>http://server.address/wx</code>ï¼Œä¸”æœ‰ä¸ç¨‹åºç›¸ä¸€è‡´çš„<code>token</code>ã€‚
            div.col-md-5.install_pic.
              <b>==!</b><br/><br/>
              <code>wx</code>è¦æ±‚åœ¨çº¿çš„<code><a href='http://redis.io'>Redis</a></code>å®ä¾‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>wx</code>å°è¯•è¿æ¥æœ¬åœ°å®ä¾‹ï¼Œæ‚¨å¯ä»¥<a href='#code_redis_options'>æŒ‡å®šRedisè¿æ¥</a>ã€‚åˆ©ç”¨<abbr>Redis</abbr>ï¼Œ<abbr>wx</abbr>å…·å¤‡ï¼š<br/><br/>
              <ul>
                <li>é›†ç¾¤æ¨¡å¼ä¸‹è‡ªåŠ¨ç®¡ç†å¾®ä¿¡ä»¤ç‰Œï¼›</li>
                <li>æµè§ˆå™¨ç«¯æ•æ‰äºŒç»´ç æ‰«æï¼›</li>
                <li>ç­‰åŠŸèƒ½ã€‚</li>
              </ul>
              <a class='mp' href='http://mp.weixin.qq.com/'>å¾®ä¿¡å…¬ä¼—å¹³å°</a>


    // æ¥æ”¶æ–‡æœ¬æ¶ˆæ¯ 
    #div_message.page
      div.middle
        div.container
          div.row
            div.col-md-5
            // æ— å†…å®¹ã€å ä½
            div.col-md-5
              h1.message_title.gutter æ¥æ”¶æ–‡æœ¬æ¶ˆæ¯
              p é€šè¿‡<code>wx.text</code>æ³¨å†Œæ–‡æœ¬æ¶ˆæ¯å¤„ç†æµç¨‹ï¼š
              ul
                li <code>req.content</code>ä¸ºç”¨æˆ·æ‰€å‘æ–‡æœ¬ï¼›
                li <code>req.user</code>åŒ…å«<a href='http://mp.weixin.qq.com/wiki/index.php?title=è·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯' target='blank'>ç”¨æˆ·åŸºæœ¬ä¿¡æ¯</a>ã€‚
              p æ¢ç´¢å‡ ç§æ ¹æ®ç”¨æˆ·å‘é€æ–‡æœ¬ï¼Œé€šè¿‡<code>res.text</code>è¢«åŠ¨å›å¤çš„æ–¹å¼ï¼š
              div#message_content.active
                // æ‰‹æœº
                div.message_phone(data-message-title='ä¼šè¯')
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner åŒ—äº¬å¤©æ°”
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner åŒ—äº¬ï¼Œæ™´â˜€ï¸
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner ä½ å¥½
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner ğŸ‘¦ï¼Œä¹ˆä¹ˆå“’
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner ä½ æ˜¯è°
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner ä½ æ˜¯è°ï¼Œå–µå‘œ~
                  div.try
                
                br
                b åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼
                div#text_pattern
                  pre.language-coffeescript
                    code
                      :escape= TEXT_PATTERN 
                br
                b æ¥æ”¶æ–‡æœ¬å¸¸é‡
                div#text_constant
                  pre.language-coffeescript
                    code
                      :escape= TEXT_CONSTANT
                br
                b æ¥æ”¶ä»»æ„æ–‡æœ¬
                div#text_all
                  pre.language-coffeescript
                    code
                      :escape= TEXT_ALL
              br
              p.note <code>wx</code>æŒ‰æ³¨å†Œé¡ºåºåŒ¹é…æ¶ˆæ¯ï¼Œæœ€åæ³¨å†Œæ¥æ”¶ä»»æ„æ–‡æœ¬å¥æŸ„ã€‚


    // æ¥æ”¶å…¶ä»–æ¶ˆæ¯
    div#div_other_message.page
     div.middle
        div.container
          div.row
            // å ä½ç”¨
            div.col-md-5
            div.col-md-5
              h1.gutter æ¥å—å…¶ä»–æ¶ˆæ¯
              ul.nav.nav-pills.other_message_nav.gutter
                // å‘å›¾ç‰‡
                li.active
                  a(data-toggle='tab',href='.div_other_img')
                // å‘è¯­éŸ³
                li 
                  a(data-toggle='tab',href='.div_other_voice')
                // å‘è§†é¢‘
                li 
                  a(data-toggle='tab',href='.div_other_video')
                // å‘åœ°ç†ä½ç½®
                li 
                  a(data-toggle='tab',href='.div_other_location')
                // å‘é“¾æ¥
                li 
                  a(data-toggle='tab',href='.div_other_link')
                  
              // æ‰‹æœº
              div.message_phone.tab-content(data-message-title='ä¼šè¯')
                div.try
                div.div_other_img.tab-pane.fade.in.active 
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner
                
                div.div_other_voice.tab-pane.fade
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner è¯­éŸ³
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner è¯­éŸ³

                div.div_other_video.tab-pane.fade
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner ä¹ˆä¹ˆå“’ï¼Œå¥½å¥½çœ‹å“Ÿ
                    
                div.div_other_location.tab-pane.fade
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner 
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner æ‚¨åœ¨æ·±åœ³å¸‚
                
                div.div_other_link.tab-pane.fade
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner ã€Šâ€¦ã€‹ä¸€æ–‡å‘äººæ·±çœâ€¦

              // code
              div.tab-content.tab-content_code
                div.div_other_img.tab-pane.active
                  p ä¸‹é¢æ¼”ç¤ºäº†é€šè¿‡<code>wx.image</code>æ¥æ”¶ç”¨æˆ·å‘é€å›¾ç‰‡ï¼Œå†ä»¥<code>res.image</code>è¢«åŠ¨å›å¤ç›¸åŒå›¾ç‰‡çš„æ–¹å¼ï¼š
                  pre.language-coffeescript
                    code
                      :escape=RECEIVE_IMAGE
                  br
                  p å¯ä»¥é€šè¿‡<code>wx.download</code>ä¸‹è½½å›¾ç‰‡ï¼Œå¾—åˆ°å›¾ç‰‡<code>buffer</code>ï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.download req.media_id, (err, image) ->
                  br
                  p.note <code>res.image</code>äº¦æ¥æ”¶å›¾ç‰‡æ–‡ä»¶è·¯å¾„ï¼Œè‡ªåŠ¨ä¸Šä¼ å›¾ç‰‡ï¼ˆä¸ºé¿å…è¯·æ±‚è¶…æ—¶ï¼Œå»ºè®®é¢„ä¼ å›¾ç‰‡ï¼Œæˆ–å…ˆ<code>ok</code>å†å‘é€å®¢æœå›¾ç‰‡æ¶ˆæ¯ï¼‰ã€‚
                div.div_other_voice.tab-pane
                  p ä¸‹é¢æ¼”ç¤ºäº†é€šè¿‡<code>wx.voice</code>æ¥æ”¶ç”¨æˆ·å‘é€è¯­éŸ³ï¼Œå†ä»¥<code>res.voice</code>è¢«åŠ¨å›å¤ç›¸åŒè¯­éŸ³çš„æ–¹å¼ï¼š
                  pre.language-coffeescript
                    code
                      :escape=MESSAGE_VOICE
                  br
                  p å¯ä»¥é€šè¿‡<code>wx.download</code>ä¸‹è½½è¯­éŸ³ï¼Œå¾—åˆ°è¯­éŸ³<code>buffer</code>ï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.download req.media_id, (err, voice) ->
                  br
                  p.note <code>res.voice</code>äº¦æ¥æ”¶è¯­éŸ³æ–‡ä»¶è·¯å¾„ï¼Œè‡ªåŠ¨ä¸Šä¼ è¯­éŸ³ï¼ˆä¸ºé¿å…è¯·æ±‚è¶…æ—¶ï¼Œå»ºè®®é¢„ä¼ è¯­éŸ³ï¼Œæˆ–å…ˆ<code>ok</code>å†å‘é€å®¢æœè¯­éŸ³æ¶ˆæ¯ï¼‰ã€‚
                div.div_other_video.tab-pane
                  p ä¸‹é¢æ¼”ç¤ºäº†é€šè¿‡<code>wx.video</code>æ¥æ”¶ç”¨æˆ·å‘é€è§†é¢‘ï¼Œå†ä»¥<code>res.video</code>å›å¤è§†é¢‘æ–‡ä»¶çš„æ–¹å¼ï¼š
                  pre.language-coffeescript
                    code
                      :escape=RECEIVE_VIDEO
                div.div_other_location.tab-pane
                  p ä¸‹é¢æ¼”ç¤ºäº†é€šè¿‡<code>wx.location</code>æ¥æ”¶ç”¨æˆ·å‘é€åœ°ç†ä½ç½®ï¼Œé€šè¿‡<code>req.label</code>ã€<code>req.location_y</code>ã€<code>req.location_x</code>è·å–åœ°å€ã€ç»´åº¦ã€ç»åº¦çš„æ–¹å¼ï¼š
                  pre.language-coffeescript
                    code
                      :escape=RECEIVE_LOCATION
                div.div_other_link.tab-pane
                  p ä¸‹é¢æ¼”ç¤ºäº†é€šè¿‡<code>wx.link</code>æ¥æ”¶ç”¨æˆ·å‘é€é“¾æ¥ï¼Œé€šè¿‡<code>req.title</code>ã€<code>req.description</code>ã€<code>req.url</code>è·å–æ ‡é¢˜ã€æè¿°ä¸é“¾æ¥çš„æ–¹å¼ï¼š
                  pre.language-coffeescript
                    code
                      :escape=RECEIVE_LINK


    // å‘é€æ¶ˆæ¯ 
    div#div_send_message.page
      div.middle
        div.container
          div.row
            // å ä½ç”¨
            div.col-md-5
            div.col-md-6
              h1.gutter å‘é€æ¶ˆæ¯
              // p.gutter é›†ç¾¤è¿›ç¨‹è®¿é—®ä»¤ç‰Œçš„å…±äº«ä¸æ›´æ–°;äºŒç»´ç åœºæ™¯ç¼–å·çš„è‡ªåŠ¨é€’å¢ç®¡ç†é›†ç¾¤è¿›ç¨‹è®¿é—®ä»¤ç‰Œçš„å…±äº«ä¸æ›´æ–°,é›†ç¾¤è¿›ç¨‹è®¿é—®ä»¤ç‰Œçš„å…±äº«ä¸æ›´æ–°;
              ul.nav.nav-pills.send_message_nav.gutter
                // å‘æ–‡æœ¬
                li.active
                  a(data-toggle='tab',href='.div_text')
                // å‘å›¾ç‰‡
                li 
                  a(data-toggle='tab',href='.div_img')
                // å‘è¯­éŸ³
                li 
                  a(data-toggle='tab',href='.div_voice')
                // å‘è§†é¢‘
                li 
                  a(data-toggle='tab',href='.div_video')
                // å‘éŸ³ä¹
                li 
                  a(data-toggle='tab',href='.div_music')
                // å‘å›¾æ–‡
                li 
                  a(data-toggle='tab',href='.div_img_text')
                //å‘å®¢æœ
                li 
                  a(data-toggle='tab',href='.div_customer')
                  
              // æ‰‹æœº
              div.message_phone.tab-content(data-message-title='ä¼šè¯')
                div.try
                div.div_text.tab-pane.fade.in.active 
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner ä½ å¥½
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner ä½ å¥½ï¼Œä¹ˆä¹ˆå“’
                
                div.div_img.tab-pane.fade
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner

                div.div_voice.tab-pane.fade
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner è¯­éŸ³
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner è¯­éŸ³
                    
                div.div_video.tab-pane.fade
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner
                
                div.div_music.tab-pane.fade
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner éŸ³ä¹
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner
                    
                div.div_img_text.tab-pane.fade
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner å›¾æ–‡
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner
                    
                div.div_customer.tab-pane.fade
                  div.message.right
                    div.message_from(data-title='ğŸ‘¦')
                    div.message_inner å®¢æœ
                  div.message.left
                    div.message_from(data-title='ğŸ’»')
                    div.message_inner å®¢æœ

              // code
              div.tab-content.tab-content_code
                div.div_text.tab-pane.active
                  br
                  b è¢«åŠ¨å›å¤æ–‡æœ¬æ¶ˆæ¯ï¼š
                  pre.language-coffeescript
                    code
                      :escape= MESSAGE_TEXT
                  p 5ç§’å†…æ— æ³•åº”ç­”æ—¶ï¼Œå…ˆ<code>200</code>ï¼Œå†é€šè¿‡<code>req.user</code>å‘é€å®¢æœæ–‡æœ¬æ¶ˆæ¯ï¼ˆé¿å…å¾®ä¿¡æœåŠ¡å™¨å‘èµ·é‡è¯•ï¼‰ï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.text 'æ–‡æœ¬', (req, res) ->
                          res.ok()
                            req.user.text 'åŒ—äº¬ï¼Œæ™´[å¤ªé˜³]'
                  br
                  b ä¸»åŠ¨å‘é€å®¢æœæ–‡æœ¬æ¶ˆæ¯ï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.user('xx_xxx').text('åŒ—äº¬ï¼Œæ™´[å¤ªé˜³]')
                div.div_img.tab-pane
                  br
                  b è¢«åŠ¨å›å¤å›¾ç‰‡æ¶ˆæ¯ï¼š
                  p ä½¿ç”¨<code>res.image</code>è¢«åŠ¨å›å¤å›¾ç‰‡ã€‚æ—¢å¯æŒ‡å®šæœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œç”±<code>wx</code>è‡ªåŠ¨ä¸Šä¼ å›¾ç‰‡ï¼›äº¦å¯ç›´æ¥ä¼ å…¥æœ‰æ•ˆçš„<code>media_id</code>ï¼Œçœç•¥ä¸Šä¼ å›¾ç‰‡æ­¥éª¤ã€‚
                  pre.language-coffeescript
                    code
                      :escape= RECEIVE_IMAGE
                  p å¦‚éœ€ä¸Šä¼ å›¾ç‰‡ï¼Œå»ºè®®å…ˆ<code>200</code>ï¼Œå†é€šè¿‡<code>req.user</code>å‘é€å®¢æœæ¶ˆæ¯ï¼Œä»¥å…å› ä¸Šä¼ è€—æ—¶è¶…5ç§’å¯¼è‡´é‡è¯•ã€‚
                  pre.language-coffeescript
                    code
                      :escape
                        wx.image (req, res) ->
                          res.ok()
                          req.user.image 'image.jpg'
                  p ä¸Šä¼ å›¾ç‰‡è·å–<code>media_id</code>æ–¹å¼ä¸ºï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.upload 'image', 'image.jpg', (err, res) ->
                          # res.media_id æ˜¯ä¸Šä¼ å›¾ç‰‡çš„ media_id
                  br
                  b ä¸»åŠ¨å‘é€å®¢æœå›¾ç‰‡æ¶ˆæ¯ï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.user('xx_xxx').image('image.jpg')
                div.div_voice.tab-pane
                  br
                  b è¢«åŠ¨å›å¤è¯­éŸ³æ¶ˆæ¯ï¼š
                  p ä½¿ç”¨<code>res.voice</code>è¢«åŠ¨å›å¤è¯­éŸ³ã€‚æ—¢å¯æŒ‡å®šæœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œç”±<code>wx</code>è‡ªåŠ¨ä¸Šä¼ è¯­éŸ³ï¼›äº¦å¯ç›´æ¥ä¼ å…¥æœ‰æ•ˆçš„<code>media_id</code>ï¼Œçœç•¥ä¸Šä¼ è¯­éŸ³æ­¥éª¤ã€‚
                  pre.language-coffeescript
                    code
                      :escape= MESSAGE_VOICE
                  p å¦‚éœ€ä¸Šä¼ è¯­éŸ³ï¼Œå»ºè®®å…ˆ<code>200</code>ï¼Œå†é€šè¿‡<code>req.user</code>å‘é€å®¢æœæ¶ˆæ¯ï¼Œä»¥å…å› ä¸Šä¼ è€—æ—¶è¶…5ç§’å¯¼è‡´é‡è¯•ã€‚
                  pre.language-coffeescript
                    code
                      :escape
                        wx.voice (req, res) ->
                          res.ok()
                          req.user.voice 'voice.amr'
                  p ä¸Šä¼ è¯­éŸ³è·å–<code>media_id</code>æ–¹å¼ä¸ºï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.upload 'voice', 'voice.amr', (err, res) ->
                          # res.media_id æ˜¯å¯ä»¥é‡ç”¨çš„è¯­éŸ³ media_id
                  br
                  b ä¸»åŠ¨å‘é€å®¢æœè¯­éŸ³æ¶ˆæ¯ï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.user('xx_xxx').voice('voice.amr')
                div.div_video.tab-pane
                  br
                  b è¢«åŠ¨å‘é€è§†é¢‘æ¶ˆæ¯ï¼š 
                  p ä½¿ç”¨<code>res.video</code>è¢«åŠ¨å›å¤è§†é¢‘ã€‚æ—¢å¯æŒ‡å®šæœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œç”±<code>wx</code>è‡ªåŠ¨ä¸Šä¼ è¯­éŸ³ï¼›äº¦å¯ç›´æ¥ä¼ å…¥æœ‰æ•ˆçš„<code>media_id</code>ï¼Œçœç•¥ä¸Šä¼ è§†é¢‘æ­¥éª¤ã€‚
                  pre.language-coffeescript
                    code
                      :escape= RECEIVE_VIDEO
                  p å¦‚éœ€ä¸Šä¼ è§†é¢‘ï¼Œå»ºè®®å…ˆ<code>200</code>ï¼Œå†é€šè¿‡<code>req.user</code>å‘é€å®¢æœæ¶ˆæ¯ï¼Œä»¥å…å› ä¸Šä¼ è€—æ—¶è¶…5ç§’å¯¼è‡´é‡è¯•ã€‚
                  pre.language-coffeescript
                    code
                      :escape
                        wx.video (req, res) ->
                          res.ok()
                          req.user.video ...
                  p ä¸Šä¼ è§†é¢‘è·å–<code>media_id</code>æ–¹å¼ä¸ºï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.upload 'video', 'video.mp4', (err, res) ->
                          # res.media_id æ˜¯å¯ä»¥é‡ç”¨çš„è§†é¢‘ media_id
                  br
                  b ä¸»åŠ¨å‘é€è§†é¢‘æ¶ˆæ¯ï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.user('xx_xxx').video ...
                div.div_music.tab-pane
                  br
                  b è¢«åŠ¨å‘é€éŸ³ä¹æ¶ˆæ¯ï¼š
                  p éœ€ä¸Šä¼ ä¸“è¾‘å›¾ç‰‡æ—¶ï¼Œå…ˆ<code>200</code>ï¼Œå†é€šè¿‡<code>req.user.music</code>å‘é€å®¢æœéŸ³ä¹æ¶ˆæ¯ï¼ˆé¿å…ä¸Šä¼ è€—æ—¶è¶…5ç§’ï¼Œå¾®ä¿¡æœåŠ¡å™¨å‘èµ·é‡è¯•ï¼‰ï¼š
                  pre.language-coffeescript
                    code
                      :escape= MESSAGE_MUSIC
                  p æ— å®¢æœæ¶ˆæ¯æƒé™ï¼Œæˆ–å·²çŸ¥ä¸“è¾‘å°é¢<code>thumb_media_id</code>æ—¶ï¼Œå¯ç›´æ¥å›å¤éŸ³ä¹ï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.text 'éŸ³ä¹', (req, res) ->
                          res.music music
                  p ä¸Šä¼ ç¼©ç•¥å›¾è·å–<code>media_id</code>æ–¹å¼ä¸ºï¼š
                  pre.language-coffeescript
                    code
                      :escape
                        wx.upload 'thumb', 'cover.jpg', (err, res) ->
                          # res.thumb_media_id æ˜¯å¯ä»¥é‡ç”¨çš„ç¼©ç•¥å›¾ thumb_media_id
                  br
                  b ä¸»åŠ¨å‘é€éŸ³ä¹æ¶ˆæ¯ï¼šä¸¾ä¸€åä¸‰ğŸ˜„
                div.div_img_text.tab-pane
                  br
                  b è¢«åŠ¨å‘é€å›¾æ–‡æ¶ˆæ¯ï¼š
                  pre.language-coffeescript
                    code
                      :escape= MESSAGE_NEWS
                  p äº¦å¯é€šè¿‡<code>req.user</code>å‘é€å®¢æœæ–°é—»æ¶ˆæ¯
                  pre.language-coffeescript
                    code
                      :escape
                        wx.text 'æ–°é—»', (req, res) ->
                          res.ok()
                          req.user.news news
                  br
                  b ä¸»åŠ¨å‘é€å›¾æ–‡æ¶ˆæ¯ï¼šä¸¾ä¸€åä¸‰ğŸ˜„
                div.div_customer.tab-pane
                  br
                  b æ¶ˆæ¯è½¬å¤šå®¢æœï¼š
                  p é€šè¿‡<code>res.transfer</code>æ–¹æ³•ï¼Œå°†æ¶ˆæ¯è½¬å‘åˆ°å¤šå®¢æœï¼š
                  pre.language-coffeescript
                    code
                      :escape= SEND_TRANSFER
                  br
                  p.note <a href='http://mp.weixin.qq.com'>å…¬å…±å¹³å°å¼€å‘è€…æ–‡æ¡£</a>æœ‰æ›´å¤šå…³äºå¤šå®¢æœçš„å¼€å‘è€…èµ„æ–™ã€‚åœ¨<a href='http://dkf.qq.com'>å¤šå®¢æœ</a>ç½‘ç«™ä¸‹è½½å®¢æˆ·ç«¯ã€‚


    // ç‚¹å‡»æŒ‰é’®
    div#div_click_button.page
      div.middle
        div.container
          div.row.gutter
            div.col-md-5
              pre.language-coffeescript
                code
                  :escape= CLICK_BUTTON
            div.col-md-5 
              h1.click_button_title ç‚¹å‡»æŒ‰é’®
              p.
                å“åº”æŒ‰é’®ç‚¹å‡»ï¼Œæˆ‘ä»¬åŠªåŠ›è¿«è¿‘æœ€ä¸ºè‡ªç„¶çš„æ–¹å¼ï¼š<br/>
                ä½¿ç”¨<code>wx.click</code>æ–¹æ³•ï¼ŒæŒ‡å®šè¢«ç‚¹å‡»æŒ‰é’®åç§°ï¼Œå³å¯æ•æ‰è¯¥æŒ‰é’®ç‚¹å‡»äº‹ä»¶ã€‚
          div.row.click_button_pic
            div.col-md-5 
              div.click_button_hand
            div.col-md-6
              div.click_button_iphone


    // ç¼–è¾‘æŒ‰é’®
    div#div_edit_button.page
      div.middle
        div.container
          div.row
            div.col-md-5
              div.tab-content.tab_content_demo
                div#div_edit_button_demo.tab-pane.fade.in.active
                  // æ‰‹æœº
                  div.message_phone.tab-content(data-message-title='æŒ‰é’®')
                    ul
                      li
                      li
                      li
                      li
                    div.btn_group_demo

                      div#div_buttons
                      // buttons

                div#div_edit_button_demo_code.tab-pane.fade
                  pre.language-coffeescript
                    code
              ul.nav.nav-pills.gutter
                li.active
                  a(data-toggle='tab',href='#div_edit_button_demo') æ‰‹æœºæ¼”ç¤º
                li 
                  a(data-toggle='tab',href='#div_edit_button_demo_code') ä»£ç 

              
            div.col-md-6
              h1 ç¼–è¾‘æŒ‰é’®
              p ç¼–è¾‘èœå•æ˜¯ä¸€ç§å†…å®¹åˆ›æ„ï¼Œåº”å½“ç”±<code>markdown</code>æ¥å®Œæˆã€‚ä½¿ç”¨<code>wx</code>ï¼Œä½ å¯ä»¥ç«‹å³é¢„è§ˆèœå•æ•ˆæœï¼Œæ— éœ€å…³æ³¨æ›´å¤šã€‚å®‰è£…<code>wx</code>åï¼Œå¯ä»¥é€šè¿‡<code>http://server.address/wx/admin</code>åœ°å€è¿›å…¥ç®¡ç†ç•Œé¢ã€‚
              div#div_markdown_content
                span markdown
                p http://server.address/wx/admin
                textarea#textarea_markdown
                  | + ç‚¹å‡»æŒ‰é’®
                  | 
                  | + [é“¾æ¥æ–‡æ¡£](http://mp.weixin.qq.com/wiki)
                  | 
                  | + äºŒçº§èœå•
                  |    - [é“¾æ¥è·³è½¬](http://github.com/baoshan/wx)
                  |    - æ‹‰å–ä¿¡æ¯
              

      script#template_div_buttons(type='text/template')
        
        | {{#.}}<div class='btn-group dropup' length='{{length}}'><a class='btn btn-danger dropdown-toggle {{#sub_button}} option_icon{{/sub_button}}' {{#url}}href='{{.}}' target='blank'{{/url}} {{^url}}data-toggle='dropdown'{{/url}}>{{name}}</a><ul class='dropdown-menu' role='menu'>{{#sub_button}}<li><a class='btn btn-danger' {{#url}}href='{{.}}' target='blank'{{/url}}>{{name}}</a></li>{{/sub_button }}</ul></div>{{/.}}

      script
        != markdown_2_json


    // æ‰«æäºŒç»´ç ç™»å½• 
    div#div_login.page
      div.middle
        div.container
          div.row
            div.col-md-5
              h1.gutter.login_title æ‰«æäºŒç»´ç ç™»å½•
              p æœåŠ¡å™¨ç«¯é€šè¿‡<code>wx.scan</code>æ³¨å†Œæ‰«ç å¤„ç†æµç¨‹<sup>*</sup>ã€‚å“åº”å¥æŸ„å‚æ•°åˆ†åˆ«ä¸ºï¼š
              ol
                li æµè§ˆå™¨è¯·æ±‚ï¼ŒåŒ…å«<code>req.session</code>ä¼šè¯ã€<code>req.user</code>å¾®ä¿¡ç”¨æˆ·ã€<code>req.query</code>äºŒç»´ç å‚æ•°ï¼›
                li å¾®ä¿¡å“åº”ï¼Œå¯è¢«åŠ¨å›å¤å„ç§æ¶ˆæ¯ï¼›
                li æµè§ˆå™¨å›è°ƒæ–¹æ³•ï¼Œå¯å‘æµè§ˆå™¨å‘é€ä»»æ„æ•°æ®ã€‚
              pre.language-coffeescript
                code
                  :escape=QRCODE_LOGIN
              p æ ‡è®°è¯­è¨€*
              pre.language-markup
                code
                  :escape
                    <script src="/wx/wx.js"></script>
                    <img id="ç™»å½•äºŒç»´ç " src="/wx/qrcode?from=ç½‘é¡µ" />
              p æµè§ˆå™¨ç«¯
              pre.language-coffeescript
                code
                  :escape=QRCODE_CLIENT_LOGIN
              br
              p.note å»ºè®®ä¸ºæ‰€æœ‰äºŒç»´ç æŒ‡å®šåç§°è¿›è¡Œåˆ†ç±»ï¼Œè§ä¸´æ—¶äºŒç»´ç ä¸æ°¸ä¹…äºŒç»´ç éƒ¨åˆ†ã€‚
              // æ‰‹æœº
              div.message_phone.tab-content(data-message-title='æ‰«ä¸€æ‰«')
                div.try
                div.login_pic 
                  img(id='ç™»å½•äºŒç»´ç ', src='http://weixinjs.org/wx/qrcode?from=ç½‘é¡µ&rand=#{~~(1000 * Math.random())}')
                  // img(id='ç™»å½•äºŒç»´ç ', src='/wx/qrcode?rand=#{~~(1000 * Math.random())}' data-title='title')
                  label æ‰«ææˆåŠŸ, 
                    br                
                    | æ­£åœ¨ç™»å½•,è¯·ç¨å€™
                 

    // æ‰«æäºŒç»´ç é€‰æ‹©å–œæ¬¢çš„æ°´æœ 
    div#div_fruit.page
      div.middle
        div.container
          div.row
            div.col-md-5 
              h1.fruit_title.gutter ä¸´æ—¶äºŒç»´ç 
              p æŒ‡å®šåç§°ï¼Œå¯ä¸ºäºŒç»´ç åˆ†ç±»ã€‚ä¸‹é¢äºŒç»´ç åç§°ä¸º<code>fruits</code>ï¼š
              pre.language-markup
                code
                  :escape
                    <script src="/wx/wx.js"></script>
                    <img src="/wx/qrcode/fruits?name=ğŸ’" />
              p.note <code>wx</code>è‡ªåŠ¨ä¸ºè¢«æ‰«æçš„äºŒç»´ç å¢åŠ <code>scanned</code>ç±»åã€‚
            div.col-md-6 
              p.gutter æœåŠ¡å™¨ç«¯åœ¨<code>wx.scan</code>ä¸­æŒ‡å®šäºŒç»´ç åç§°ï¼Œæ³¨å†Œè¯¥ç±»äºŒç»´ç çš„å¤„ç†æµç¨‹ã€‚
              pre.language-coffeescript
                code
                  :escape=QRCODE_TEMPORARY
                  
          div.row.like_fruit_pic
            div.col-md-5
              img(class='ä¸´æ—¶äºŒç»´ç ',src='http://weixinjs.org/wx/qrcode/fruits?name=è‹¹æœ&rand=#{~~(1000 * Math.random())}')
              div.apple
                
            div.col-md-6
              img(class='ä¸´æ—¶äºŒç»´ç ', continuous='', src='http://weixinjs.org/wx/qrcode/fruits?name=æ¨±æ¡ƒ&rand=#{~~(1000 * Math.random())}')
              div.cherry


    // ç»Ÿè®¡å¹¿å‘ŠæŠ•æ”¾æ•ˆæœ 
    div#div_ad.page
      div.middle
        div.container
          div.row
            div.col-md-6
              h1.gutter.ad_title æ°¸ä¹…äºŒç»´ç 
              p.note æ°¸ä¹…äºŒç»´ç å›¾æ¡ˆç¨³å®šï¼Œæ°¸ä¸è¿‡æœŸï¼Œé€‚äºå°åˆ·å“ã€å¹¿å‘Šç­‰ï¼Œå®ç°æ¥æºç»Ÿè®¡ç”¨é€”ã€‚
              p åç§°åœ¨<code>1</code>ï¼<code>100000</code>é—´ä¸ºæ°¸ä¹…äºŒç»´ç ï¼Œ<code>[continuous]</code>æ¡ç æ”¯æŒè¿ç»­æ‰«æï¼š
              pre.language-markup
                code
                  :escape
                    <img id="æ°¸ä¹…äºŒç»´ç " src="/wx/qrcode/6?from=è·¯ç‰Œ" continuous />
              br
              p æœåŠ¡å™¨ç«¯ï¼Œé€šè¿‡<code>permanent</code>åç§°æ³¨å†Œæ°¸ä¹…äºŒç»´ç æ‰«ç å¤„ç†æµç¨‹ï¼Œç”¨<code>req.params.scene_id</code>è·å–ç¼–å·ã€‚
              pre.language-coffeescript
                code
                  :escape=QRCODE_PERMANENT
              br
              p æµè§ˆå™¨ç«¯ï¼Œé€šè¿‡<code>scan</code>æ–¹æ³•ï¼Œæ•æ‰æ°¸ä¹…äºŒç»´ç æ‰«æäº‹ä»¶
              pre.language-coffeescript
                code
                  :escape=QRCODE_CLIENT_PERMANENT
              div.ad_pic
                div.try
                div#div_portraits
                  div#div_headimgs
                    each subscriber in subscribers
                      img(src = '#{subscriber.headimgurl}' title='#{subscriber.nickname}')
                  
                  div
                    p.subscribe_title æ‰«ä¸€æ‰«
                     br
                     | ä¸ä»–ä»¬å…±åŒå…³æ³¨
                    img(id='æ°¸ä¹…äºŒç»´ç ', continuous='', src='http://weixinjs.org/wx/qrcode/6?from=è·¯ç‰Œ')

    // å…³æ³¨ä¸å–æ¶ˆå…³æ³¨ 
    div#div_subscribe.page
      div.middle
        div.container
          div.row
            div.col-md-5
            div.col-md-5 
              h1 å…³æ³¨ä¸å–æ¶ˆå…³æ³¨
              // æ‰‹æœº
              div.message_phone.tab-content(data-message-title='å…³æ³¨')
                ul
                  li
                  li
                  li
                  li
                button.btn.btn-danger å…³æ³¨
              br
              b å…³æ³¨
              p é€šè¿‡<code>wx.subscribe</code>æ³¨å†Œå…³æ³¨äº‹ä»¶ã€‚
              pre.language-coffeescript
                code
                  :escape=SUBSCRIBE
              p.note å½“ç”¨æˆ·é€šè¿‡æ‰«æäºŒç»´ç å…³æ³¨æ—¶ï¼Œå¦‚å·²æ³¨å†Œç›¸åº”çš„äºŒç»´ç æ‰«ç å¤„ç†æµç¨‹ï¼Œåˆ™äº¤ç»™è¯¥æµç¨‹å¤„ç†ï¼Œä¸è§¦å‘<code>subscribe</code>äº‹ä»¶ï¼Œä»å¯æ ¹æ®<code>scan</code>äº‹ä»¶çš„<code>req.event</code>ä¸º<code>subscribe</code>åˆ¤æ–­ç”¨æˆ·ä¸ºé€šè¿‡æ‰«ç å…³æ³¨ã€‚
              br
              b å–æ¶ˆå…³æ³¨
              p é€šè¿‡<code>wx.unsubscribe</code>æ³¨å†Œå–æ¶ˆå…³æ³¨äº‹ä»¶ã€‚
              pre.language-coffeescript
                code
                  :escape=UNSUBSCRIBE


    // è·å–å…³æ³¨è€…åˆ—è¡¨
    div#div_subscribe_list.page
      div.middle
        div.container
          div.row
            div.col-md-5 
              h1 è·å–å…³æ³¨è€…åˆ—è¡¨
              p é€šè¿‡<code>wx.subscribers</code>æ–¹æ³•ï¼Œæ‹‰å–å…³æ³¨è€…åˆ—è¡¨ï¼š
              pre.language-coffeescript
                code
                  :escape=SUBSCRIBERS
              p è·å–åˆ°çš„å…³æ³¨è€…åˆ—è¡¨ç»“æ„ï¼š
              pre.language-coffeescript
                code
                  :escape
                    {
                      "total" : 23000,
                      "count" : 10000,
                      "data"  : {"openid": ["OPENID1", ...]},
                      "next_openid": "NEXT_OPENID"
                    }
              p äº¦å¯æŒ‡å®š<code>next_openid</code>ï¼Œæ‹‰å–åç»­ç”¨æˆ·åˆ—è¡¨ï¼š
              pre.language-coffeescript
                code
                  :escape
                    wx.subscribers next_openid, (err, res) ->

            div.col-md-6
              h1.h1_more æ›´å¤šæ—¶å€™â€¦
              p å¯ä»¥è€ƒè™‘ç”¨<code>wx.populate_subscribers</code>è·å–æŒ‡å®šèŒƒå›´å†…å…³æ³¨è€…å®Œæ•´ä¿¡æ¯ï¼ˆåˆ†é¡µæ˜¾ç¤ºå…³æ³¨ç”¨æˆ·ã€æ‰¹é‡å‘é€å®¢æœæ¶ˆæ¯ç­‰ï¼‰ã€‚
              pre.language-coffeescript
                code
                  :escape=POPULATE_SUBSCRIBERS
              p è·å–åˆ°çš„æŒ‡å®šèŒƒå›´å…³æ³¨è€…å®Œæ•´ä¿¡æ¯ç»“æ„ï¼š
              pre.language-coffeescript
                code
                  :escape
                    {
                      total       : 23000,
                      subscribers : [{
                        "subscribe"      : 1,
                        "openid"         : "......",
                        "nickname"       : "Band",
                        "sex"            : 1,
                        "language"       : "zh_CN",
                        "city"           : "å¹¿å·",
                        "province"       : "å¹¿ä¸œ",
                        "country"        : "ä¸­å›½",
                        "headimgurl"     : "http://wx.qlogo.cn/...",
                        "subscribe_time" : 1382694957
                      }, ...]
                    }

      div.bottom
        div.container
          div.row


    // æœ‰é™çŠ¶æ€æœº 
    div#div_fsm.page
      div.middle
        div.container
          div.row
            div.col-md-5 
              h1 æœ‰é™çŠ¶æ€æœº
              br
              p å®šä¹‰ç”¨æˆ·æ‰€å¤„çŠ¶æ€ä¸å„çŠ¶æ€é—´è·ƒè¿æ¡ä»¶ï¼Œå¾®ä¿¡åº”ç”¨æ¡†æ¶å¸®åŠ©æ‚¨åˆ†è§£å¤æ‚ä¸šåŠ¡ï¼Œä¸”æ¯«ä¸å¦¥åç ”å‘ä½“éªŒï¼š
              pre.language-coffeescript
                code
                  :escape
                    wx.click 'ç”³åŠ', (req, res) ->
                      res.text 'å›å¤â€œå›ºè¯â€ç”³åŠå›ºè¯ï¼Œå›å¤â€œå®½å¸¦â€ç”³åŠå®½å¸¦ã€‚'
                      req.user.state 'ç”³åŠ'

                    wx.state('ç”³åŠ').text 'å›ºè¯', (req, res) ->
                      req.text 'æ­£åœ¨ä¸ºæ‚¨ç”³åŠå›ºè¯ä¸šåŠ¡ï¼Œè¯·æä¾›è®¤è¯ç…§ç‰‡ã€‚'
                      req.user.state 'è®¤è¯'

                    wx.state('è®¤è¯').image (req, res) ->
                      req.text 'å·²æ”¶åˆ°æ‚¨æäº¤çš„è®¤è¯å›¾ç‰‡ï¼Œè¯·å‘é€è£…æœºåœ°å€ã€‚'
                      req.user.state 'è£…æœº'

                    wx.state('è£…æœº').location (req, res) ->
                      res.text "å·¥ç¨‹å¸ˆæ­£å‰å¾€#{req.label}ä¸ºæ‚¨å®‰è£…å›ºè¯ã€‚"
                      req.user.state null
              br
              p.note è¿™ä¸ªåˆ›æ„å°šæœªå®ç°ğŸ˜¿ï¼ŒBut, <a href='mailto:kuaiyusheng@wedocare.com?subject=Let&#039;s have a hackathonï¼Œæ¥è‡ªå¾®ä¿¡åº”ç”¨æ¡†æ¶&body=Hey ya! æˆ‘ä»¬ä¸€èµ·è®¾è®¡ç°ä»£çš„äº’è”ç½‘åº”ç”¨ï¼%0D%0A%0D%0Aé™„ä»¶ä¸­æ˜¯æˆ‘çš„ç®€å†ï¼Œæˆ‘çš„GitHubè´¦å·æ˜¯ï¼š'>let's have a hackathonğŸ™‹</a>ï¼Œæ›´<a href='mailto:kuaiyusheng@wedocare.com?subject=Let&#039;s have a hackathonï¼Œæ¥è‡ªå¾®ä¿¡åº”ç”¨æ¡†æ¶&body=Hey ya! æˆ‘ä»¬ä¸€èµ·è®¾è®¡ç°ä»£çš„äº’è”ç½‘åº”ç”¨ï¼%0D%0A%0D%0Aé™„ä»¶ä¸­æ˜¯æˆ‘çš„ç®€å†ï¼Œæˆ‘çš„Dribbbleæˆ–Behanceè´¦å·æ˜¯ï¼š'>æ¬¢è¿è®¾è®¡å¸ˆâ›„ï¸åŠ å…¥</a>ã€‚æˆ‘ä»¬æä¾›æœ‰ç«äº‰åŠ›çš„è–ªèµ„ã€ç¦åˆ©ä¸å·¥ä½œç¯å¢ƒã€‚
            div.col-md-5
              pre#pre_fsm
                |                       #                                                                            
                |                        j                                                                           
                |                          #                                                                         
                |                         t                                                                          
                |                       ,,,,,,j                                                                      
                |                     j,,,,,,,,,#                                                                    
                |                    ,,,,,,,,,,,,,                                   ##    j#                        
                |          G   ;;   ,,,,,,,,,,,,,,G                                G  #j,,,#  #                      
                |         j       G ,,,,,###,,,,,,,;                              # ,,,,,,,,,, ;                     
                |     #            j,,,,,,,#,,,,,,,,                             #;,,,,,,,,,,,,#;                    
                |      #           ,,,,,,,,#,,,,,,,,                            # ,,,,,,,,,,,,,, #  #    j           
                |    ;###          ,,,,,,,,#,,,,,,,,                             G,,,,,,###,,,,,,            #       
                |    #  #          ,,,,,,,,#,,,,,,,,                           t ,,,,,,,,,#,,,,,, #          #       
                |    G ## #        #,,,,,,,#,,,,,,,#                           # ,,,,,,,,,#,,,,,,##          #  #    
                |    G# #        ;#j,,,,,,###,,,,,,                      G##   #;,,,,,,,###,,,,,,Gj          #  #    
                |           #  jt   G,,,,,,,,,,,,,                          #  # ,,,,,,,,,,#,,,,,#G          #  #    
                |                    #,,,,,,,,,,,#                       ####  # ,,,,,,,,,#j,,,,, #          #  #    
                |                      ,,,,,,,,,                         #  #    #,,,,,,##,,,,,,, ##         #;#     
                |                         ##G                            ####   # ,,,,,,,,,,,,,, j ; t##;            
                |                                                             j  t ,,,,,,,,,,,,; G                   
                |                     #                                     G     ; #,,,,,,,,j  j                    
                |                     #                                            #  #j,,,#  t#                     
                |                     ## ;;                              #          t#  #   ##                       
                |                     #;  #                             #              ###j                          
                |                     #   #                            ;               #                             
                |                     ##  #                           #                                              
                |                     # #G                           #                G                              
                |                           j                       ;                                                
                |                           G                                        t                               
                |                                                                   #                                
                |                                                                                                    
                |                            G                                                                       
                |                                                #                G                                  
                |                                                                G                                   
                |                                               #               #                                    
                |                              ;                               ;                                     
                |                                              #              j                                      
                |                               j                            #                                       
                |                                             #j            ;                                        
                |                                       jGjGj #                                                      
                |                                 #G  ,,,,,,,,,          t                                           
                |                                  #t,,,,,,,,,,,G      j                                             
                |                                   ,,,,,,,,,,,,,j   #                                               
                |                                  ,,,,,j##,,,,,,,;    #                                             
                |                                 #,,,,,,,,#,,,,,,G    # #;                                          
                |                                 ,,,,,,,,,#,,,,,,,    #j j                                          
                |                                 ,,,,,,,,,#,,,,,,,    #   #                                         
                |                                 ,,,,,,,j#,,,,,,,,    #   G                                         
                |                                 j,,,,,,#,,,,,,,,,    ## #                                          
                |                            G     ,,,,,####,,,,,,                                                   
                |                                  G,,,,,,,,,,,,,j                                                   
                |                          G        ,,,,,,,,,,,,,                                                    
                |                                    j,,,,,,,,,#                                                     
                |                                      G,,,,,#                                                       
                |                                     #                                                              
                |                     ###G           G#                                                              
                |                        # #                                                                         
                |                     ####  G     #                                                                  
                |                     #  #                                                                           
                |                     G#G#                                                                           

    script(src='//cdn.weixinjs.org/vendor/Library/library.min.js')
    script(src='//cdn.weixinjs.org/vendor/bootstrap/3.1.1/js/bootstrap.min.js')
    script(src='/wx/wx.js')
    script var headimgurls = !{headimgurls};
    script(src='/js/app.js')

